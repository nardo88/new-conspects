<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<h1>Где хранятся темы</h1>
	<p>Темы для WordPress хранятся в папке: <span style="font-size: 1.2em; font-weight: bold;">wordpress / wp-content / themes</span></p>
	<h1>Добавление своей темы</h1>
	<p>Для добавления свой темы, в папке 'themes' создаем папку и называем ее именем своей темы, например 'mytheme'.</p>
	<p>Теперь для того что бы WP принял нашу папку как тему, необходимо в нее добавить два файла:
		<ul>
			<li><b>style.css</b></li>
			<li><b>index.php</b></li>
		</ul>

	</p>
	<p>В файле CSS надо вписать комментарий:</p>
	<img src="prim1.jpg" alt="">
	<p>Т.е. просто указываем имянашей темы</p>
	<p>Теперь, для того что бы появился скриншот нашей темы, надо в папку с темой поместить скриншот (файл должен иметь имя <b>screenshot.png</b> и иметь размер <b>1200x900</b>)</p>
	<h2>Немного о фреймворках</h2>
	<p>Вообще писать тему с нуля - это очень трудоемкий процесс. Проще можно скачать шаблон темы и править его под себя. На сайте <a href="http://underscores.me" target="_blank">underscores.me</a> мы можем ввести имя нашей будущей темы, нажать generate и получить архив с файлами нащей будущей темы.</p>
	<h1>Наполнение темы</h1>
	<h3>404.php</h3>
	<p>Первое что нам надо создать это файлик с именем <b>404.php</b>. Что это за файл? Этот станичка с кодом, которая будет отображаться на экране в случае отсутствия запрашиваемой страницы. К примеру, сейчас мы заходим на наш сайт и у нас загружается файл index.php. Если в адресной строке, мы введем адрес http://localhost/maksim то WP откроет нам страницу index.html. Так устроен WP, что если он не находит страницу (а страницы maksim.html нет, мы ее не создавали), то система получит ошибку 404 после которой идет перенаправление на index.html. Для этого случая и делается страница 404.php. Внутри этой страницы следует сверстать какое нибудь сообщение о том, что страница не найдена</p>
	<h3>index.php</h3>
	<p>Предположим, что у нас есть верстка и нам надо эту верстку перенести в нашу тему WP. По идее мы можем скопировать содержимое нашего файла index.html в файл index.php. Отображение содержимого сайта будет ужасным, т.к. index.php не видит подключенных стилей и скриптов. Более того, копировать весь файл в index.php вкорне не верно. В WP страница всегда разбира на сотавляющие. Какие именно? Минимум их может быть три:

		<ul>
			<li><b>header.php</b> - шапка сайта</li>
			<li><b>index.php</b> - контент главной страницы</li>
			<li><b>footer.php</b> - подвал сайта</li>
		</ul>
	</p>
	<p>Подключение этих составляющих страницы происходит с помощью функций php:

		<ul>
			<li><b>get_header()</b> - подключаем шапку</li>
			<li><b>et_footer()</b> - подключаем подвал</li>
		</ul>
	</p>
	<p>Т.е. наш файл index.php должен будет содержать в начале и в конце документа такие строки:</p>
	<img src="prim2.jpg" alt="">
	<p>Теперь нам в папке с нашей темой надо создать два файла с именами:
		<ul>
			<li>header.php</li>
			<li>footer.php</li>
		</ul></p>
	<h3>Содержимоей файла header.php</h3>
	<p>Какой код мы помещаем в файл header? Очень просто весь код который помещался от начала документа и до тега <b>&lt;header&gt;&lt;/header&gt;</b></p>
	<h3>Содержимое файла footer.php</h3>
	<p>Здесь аналогично, в файл footer.php помещаем тот код который заключали от тега <b>&lt;footer&gt;&lt;/footer&gt;</b> и до конца документа.</p>
	<h3>Содержимое файла index.php</h3>
	<p>Все что осталось от файла index.html помещается в файл index.php между двумя функциями, о которых говорилось выше.</p>
	<h1>Подключение стилей, скриптов и картинок абсолютным путем</h1>
	<p>В папке с темой создаем папку <b>assets</b> Затем в эту папку помещаем наши файлы со стилями, сриптами и с картинками (желательно папки называть так: css, js, images)</p>
	<p>Далее в header или в footer мы ищем код в котором есть строка подключения стилей или скриптов и в атрибуте src или href используем функцию php</p>
	<img src="prim3.jpg" alt="">
	<p>Например наша ссылка до стиля CSS теперь будет выглядеть так:</p>
	<img src="prim4.jpg" alt="">
	<p>Т.е. эта функция php возвращает значение пути до нашей папки assets. Важно подметить то, что в функции php использование метода <b>echo</b> обязательно. После строчки кода php мы указываем путь до файла CSS. С файлами скриптов все аналогично.</p>
	<h1>functions.php</h1>
	<p>Вообще подключение стилей в WP абсолютным путем считается плохим тоном и вообще этот способ является не актуальным. Лучше всего для этогоиспользвать файл <b>functions.php</b>.</p>
	<p>Что это за файл такой и для чего он нужен. Файл function.php это файл БАТЯ всего сайта, в нем будут храниться основные функции, которые будут строить наш сайт. Но перед тем как начать работать с этим файлом надо разобраться что такое <b>ХУКИ</b>. А пока просто содадим в папке с нашей темой файл function.php и отложим его на время.</p>
	<h2>ХУКИ</h2>
	<p>Хуки - это крючки собитий к которым можноо подцепить наши функции. Предположим, что наш сайт згаружается поэтапно, сначала загружается header, затем грузится content и наконец загружается footer. Так вот хуки пзволяют подцепиться к одному из этих этапов и во время этого этапа выполнить свое действие.</p>
	<h3>wp_enqueue_scripts</h3>
	<p>wp_enqueue_scripts - это хук-событие которое срабатывает в момент подключения в очередь на вывод файлов стилей и скриптов. Как с этим работать? Возвращаемся к нашему файлу <b>function.php</b> и добавляем в него такой текст:</p>
	<img src="prim5.jpg" alt="">
	<p>Разберем синтаксис

		<ul>
			<li><b>add_action</b> - это метод который добавляет наше действие</li>
			<li><b>'wp_enqueue_scripts'</b> - хук-событие во время которого надо выполнить нашу функцию</li>
			<li><b>style_theme</b> - наша функция. И чуть ниже идет тело самой функции</li>
		</ul>
	</p>
	<p>Но что бы хук-событие обработало в теле нашего документа header.php должно быть событие <b>wp_head</b>. Открываем файл <b>header.php</b>, ищем место где закрывается тег <b>head</b> и перед ним вставляем код:</p>
	<img src="prim6.jpg" alt="">
	<p>Теперь займемся функцией <b>style_theme</b>. Кстати имя функции произвольное, мы можем назвать ее как хотим. В этой функции мы и будем писать код, который сможет подключать наши стили.</p>
	<h3>Как подключать стили которые находятся в папке assets/css</h3>
	<p>В нашу функцию <b>style_theme</b> добавляем  следующий код:</p>
	<img src="prim7.jpg" alt="">
	<p>

		<ul>
			<li><b>wp_enqueue_style</b> - метод загрузки стиля</li>
			<li><b>'babushka'</b> - имя скрипта (задаем произвольно, это вообще ни на что не влияет)</li>
			<li><b>get_template_directory_uri()</b> - функция которая возвращает значение пути до папки assets</li>
			<li><b>.'/assets/css/default.css'</b> - путь по директориям в теме WP (точка это просто соединение строк в php)</li>
		</ul>

	</p>
	<h3>Как подключать файл style.css которыq находятся в корневой папке темы</h3>
	<p>В нашу функцию <b>style_theme</b> добавляем строку</p>
	<img src="prim8.jpg" alt="">
	<p>
		
		<ul>
			<li><b>wp_enqueue_style</b>	- метод загрузки стиля</li>
			<li><b>style</b> - имя скрипта (задается произвольно)</li>
			<li><b>get_stylesheet_uri()</b>	- функция php которая возвращает значение пути до файла style.css которыq находятся в корневой папке темы</li>
		</ul>
	</p>
	<h3>Как подключить наши скрипты</h3>
	<p>Скрипты лучше всего подключать в подвале сайта. Для этого открываем файл footer.php и первое что мы делаем, это добавляем событие wp_footer пере закрывающим тегом <b>body</b>.</p>
	<img src="prim9.jpg" alt="">
	<p>Затем открываем файл function.php и добавляем туда новый <b>action</b> (действие).</p>
	<img src="prim10.jpg" alt="">
	<p>
		<ul>
			<li><b>add_acrion</b> - добавление действия</li>
			<li><b>wp_footer</b> - хук-событие, на этапе которого мы выполним нашу функцию</li>
			<li><b>scripts_theme</b> - наша функция (название произвольное)</li>
		</ul>
	</p>

	<p>Далее создаем функцию <b>scripts_theme</b></p>
	<img src="prim11.jpg" alt="">
	<p>Допустим нам надо подключить файл myscript.js который находится в папке <b>assets/js/myscript.js</b>. Добавление будет выглядеть так:</p>
	<img src="prim12.jpg" alt="">
	<p><b>ВАЖНО!</b> Много времени потратил на поиск ошибки, почему у меня не подключались скрипты, оказалось, что я не правильно написал <b>wp_enqueue_script</b>, я написал wp_enqueue_scripts - с s на конце, ЭТО ВАЖНО</p>
	<p><b>ВАЖНО!!!</b> имя фала <b>functions.php</b> - s на конце 20 минут не понимал что не работает</p>

	</body>

</html>