<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<h1>Свои типы записей</h1>
	<br>
	<h2>Часть 1. Создание собственного типа записей</h2>
	<p>Допустим. что нам необходимо создать свой тип записей, например оно будте называться портфолие. Т.е. в админ панели должен появится новый пункт меню, в котором будут хранится записи с типом "портфолио"</p>
	<p>Для добавления своего типа записей используется функция:</p>
	<p>register_post_type()</p>
	<p>Эта функция должна выполняться во время хук события - <b>init</b>. Т.е. в файле <b>funktions.php</b> надо добавить новое действие:</p>
	<img src="prim1.jpg" alt="">
	<p>Напомню что имя функции register_post_types - задается произвольно</p>
	<p>Далее необходимо объявить нашу функцию и внутрь нее поместить функцию register_post_type()</p>
	<p>Рассмотрим шаблон этой функции:</p>
	<img src="prim2.jpg" alt="">
	<p>Сначала выглядит все страшно, но если разобраться...</p>
	<p>Итак, функция register_post_type() имеет два входных параметра. Первый - это название нашего типа записи. Второй - это массив, который будет задавать характеристики нашего типа записи.</p>
	<p>Отдельно рассмотрим этот массив:</p>
	<p>
		<ul>
			<li><b>'label'</b> - Имя типа записи помеченное для перевода на другой язык</li>
			<li><b>labels</b> - Массив содержащий в себе названия ярлыков для типа записи

				<ul>
					<li><b>'name'</b> - основное название для типа </li>
					<li><b>singular_name</b> - название для одной записи </li>
					<li><b>add_new</b> - текст для добавления новой записи, как "добавить новый" у постов в админ-панели.</li>
					<li><b>add_new_item</b> - текст заголовка у вновь создаваемой записи в админ-панели. Как "Добавить новый пост" у постов.</li>
					<li><b>edit_item</b> - текст для редактирования типа записи.</li>
					<li><b>new_item</b> - текст новой записи</li>
					<li><b>view_item</b> - екст для просмотра записи этого типа. </li>
					<li><b>search_items</b> - текст для поиска по этим типам записи</li>
					<li><b>not_found</b> - текст, если в результате поиска ничего не было найдено</li>
					<li><b>not_found_in_trash</b> - текст, если не было найдено в корзине. </li>
					<li><b>parent_item_colon</b> - текст для родительских типов</li>
					<li><b>menu_name</b> - Название меню. По умолчанию равен name.</li>
				</ul>
				


			</li>
			<li><b>description</b> - Короткое описание этого типа записи. </li>
			<li><b>public</b> - Определяет является ли тип записи публичным или нет.</li>
			<li><b>publicly_queryable</b> - Запросы относящиеся к этому типу записей будут работать во фронтэнде</li>
			<li><b>exclude_from_search</b> - Исключить ли этот тип записей из поиска по сайту. 1 (true) - да, 0 (false) - нет</li>
			<li><b>show_ui</b> - Определяет нужно ли создавать логику управления типом записи из админ-панели. </li>
			<li><b>show_in_menu</b> - Показывать ли тип записи в администраторском меню и где именно показывать управление типом записи. Аргумент show_ui должен быть включен!</li>
			<li><b>show_in_admin_bar</b> - Сделать этот тип доступным из админ бара</li>
			<li><b>show_in_nav_menus</b> - Включить возможность выбирать этот тип записи в меню навигации</li>
			<li><b>show_in_rest</b> - Нужно ли включать тип записи в REST API.</li>
			<li><b>rest_base</b> - Ярлык в REST API. По умолчанию, название типа записи. </li>
			<li><b>menu_position</b> - Позиция где должно расположится меню нового типа записи/ Если указать 4-9 то меню отобразится под записями</li>
			<li><b>menu_icon</b> - Ссылка на картинку, которая будет использоваться для этого меню.</li>
			<li><b>hierarchical</b> - Будут ли записи этого типа иметь древовидную структуру (как постоянные страницы).</li>
			<li><b>supports</b> - Вспомогательные поля на странице создания/редактирования этого типа записи</li>
			<li><b>taxonomies</b> - Массив зарегистрированных таксономий, которые будут связанны с этим типом записей</li>
			<li><b>has_archive</b> - Включить поддержку страниц архивов для этого типа записей</li>
			<li><b>rewrite</b> - Использовать ли ЧПУ для этого типа записи. </li>
			<li><b>query_var</b> - Устанавливает название параметра запроса для создаваемого типа записи.</li>
		</ul>



	</p>
	<p>Так как у нас тип записи будет портфолио, то заполнение этого массива будет выглядеть так:</p>
	<img src="prim3.jpg" alt="">
	<p>Обратим внимание на раздел <b>supports</b>. Там в списке есть такой пункт как - thumbnail. Он отвечает за возможность отображения картинки в нашей записи. Но если зайти теперь в добавление нового портфолио, то там не будет пункта где можно добавить картинку, для исправления этой картины нам надо в файле functions.php найти функцию, где мы задавали thumbnails</p>
	<img src="prim4.jpg" alt="">
	<p>И там где мы добавляли тип документа, в которых появится возможность добавления изображения через запятую указываем наш новый тип - portfolio</p>
	<img src="prim5.jpg" alt="">
	<p>Теперь если перейти в админ панель то здесь мы увидим новый пункт консоли:</p>
	<img src="prim6.jpg" alt="">
	<br><br><br>
	<h2>Часть 2. Отображение собственных типов на странице</h2>
	<p>Создаем шаблон страницы. В него помещаем верстку, в этой верстке определяем где (в каком блоке) должны будут отображаться посты. Далее в этот блок вставляем код php:</p>
	<img src="prim7.jpg" alt="">
	<p>В разделе куда помещается верстка копируем код html с разметкой данныйх наших постов. и заполняем содержимое блоков вертке данными нашего поста испльзуя функции</p>
	<p>Вот как это выглядело у меня:</p>
	<img src="prim8.jpg" alt="">
</body>
</html>

