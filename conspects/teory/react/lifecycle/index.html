<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <h1>Жизненный цикл компоненты</h1>
    <p>При сипользовании маршрутизации (Route), компонента исчезая условно "умирает". При появлении она рождается вновь. Этот промежуток времени от отображения до исчезания и называется жизненным циклом.</p>
    <p>У классовой компоненты наследованы методы жизненного цикла, которые отображают текущий статус или поведение компоненты. Примерами таких методов служат:</p>
    <ul>
        <li><b>componentDidMount</b></li>
        <li><b>componentDidUpdate</b></li>
        <li><b>componentDidUnmount</b></li>
    </ul>
    <p><b>componentDidMount</b> - говорит о том, что компонента была монтирована и отрисована. Т.е. react сначала вызывает метод <b>render</b> компоненты, затем монтирует JSX код, отрисовывает на основани JSX html и вызывает метод <strong>componentDidMount</strong></p>
    <p>Когда при использовании Route React убирает компоненту, т.к. должна будет отрисована другая компонента, вызывается метод <b>componentDidUnmount</b></p>
    <p>Все необходимы <b>side effect</b> (AJAX запросы, изменение состава DOM или его элементов и т.д.) можно делать внутри метода <b>componentDidMount</b>.</p>
    <p>Монтирование компоненты происходит один раз в жизненный цикл. Если нужно отобразить изменения в state, компонента не перерождается, просто вызывается метод классовой компоненты <b>render</b> и вместе с ним метод жизненного цикла <b>componentDidUpdate</b></p>
    <p><span class="red">Очень важный момент</span> Нужно правильно писать имена методов, в случае опечатки, просто будет создан новый метод, которые не будет вызван React-ом</p>
    <h2>Пример написания методов жизненного цикла классовой компоненты</h2>
    <img src="prim1.jpg" alt="">
    <h2>Пример классовой компоненты которая делает AJAX запрос</h2>
    <img src="prim2.jpg" alt="">
    <h2>Пример componentDidUpdate</h2>
    <p>React методу componentDidUpdate в качестве аргументов передает два параметра: </p>
    <ul>
        <li><b>prevProps</b> - пропсы предыдущего рендера</li>
        <li><b>prevState</b> - state предыдущего рендера</li>
    </ul>
    <img src="prim3.jpg" alt="">

</body>
</html>