<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <h1>Local state</h1>
    <p>В проекте могут быть случаи когда что бы изменить UI будет не целесообразно дергать весь state. В таких случаях можно использовать локальный state, а не общий (глобальный). Здесь нужно отметить что локальный state могут использовать только классовые компоненты, так как изменение такого state должен сопровождать перерендер, а метод рендера после изменения state наследуется от React.Component</p>
    <h2>Пример</h2>
    <p>Допустим что у нас на странице профиля есть статус. По сути это просто span с текстом статуса. При двойном клике мы будем заменять span на поле input. За отображение span или input будет отвечать свойство - editMode</p>
    <img src="prim1.jpg" alt="">
    <p>Теперь создадим локальный state. По сути это обычный объект</p>
    <img src="prim2.jpg" alt="">
    <p>Теперь необходимо создать два метода которые будут менять editMode на true и false</p>
    <img src="prim3.jpg" alt="">
    <p>Метод <b>setState</b> наследован от конструктора React.Component. В качестве аргемента мы передаем объект со свойством которое надо поменять в локальном стейте и его значение. Вторым аргументом setState принимает callBack функцию, которая будет вызвана после перерендера</p>
    <p>Все что нам осталось это создать обработчики событии на элементах верстки и вызвать наши методы</p>
    <img src="prim4.jpg" alt="">
    <p>Почему мы здесь используем <b>bind</b>? Потому что при вызове по клику или потере фокуса контекст вызова будет передан на элемент верстки. Поэтому надо захаркодить контекст</p>
    <h2>Подробнее о setState</h2>
    <p>Метод <b>setState</b> помимо объекта c локальным state может принять функцию. Этой функции в качестве аргумента setState передаст локальный state и выполнит эту функцию.</p>
    <img src="prim5.jpg" alt="">

</body>
</html>