<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <h1>Reselect</h1>
    <h2>Селекторы</h2>
    <p><b>Селектор</b> - это функция которая принимает state и возвращает определенный участок state</p>
    <p>Пример</p>
    <img src="prim1.jpg" alt="">
    <p>Теперь в функции <b>mapStateToProps</b> мы используем наш селектор</p>
    <img src="prim2.jpg" alt="">
    <p>Но совершенно не обязательно, что селектор будет таким простым, возможно что нам нужно будет отфильтровывать данные из state и возвращать уже эти данные. В этом случае селектор будет не примитивным и существенно может нагружать нашу систему. В результате потеря производительности. Как бы нам сделать так что бы функция селектора вызывалась только тогда когда произойдет изменение в state. Ведь сейчас вызов селектора происходит в любом случае при изменения любого участка state.</p>
    <p>Предположим что наш селектор где-то будет хранить пришедшую копию участка state который он вернул в прошлый раз и будет в случае отсутствия изменений в этом участке возращать его, т.е. пересчета данных не произойдет. Вот именно этим и занимается библиотека <b>reselect</b></p>
    <h2>reselect</h2>
    <p>Для установки библиотеки в консоли вводим команду</p>
    <span class="code">npm install reselect</span>
    <p>У этой библиотеки есть метод создания селектора - <b>createSelector</b>, что бы им воспользоваться не забываем импортировать метод</p>
    <img src="prim3.jpg" alt="">
    <p>вот как выглядит создание селектора</p>
    <img src="prim4.jpg" alt="">
    <p>reselect будет где то у себя хранить предыдущую версию state который нам вернул предыдущий вызов, и при последующем вызове если данные не изменены (т.е. функция будет их сравнивать) то она вернет то что возвращала в прошлый раз без расчетов.</p>
</body>
</html>